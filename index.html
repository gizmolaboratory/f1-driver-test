<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ë‚˜ì™€ ë‹®ì€ F1 ë“œë¼ì´ë²„ ì°¾ê¸°</title>

  <!-- (ì„ íƒ) Noto Sans KR: ì‹œìŠ¤í…œ ê³ ë”• ìŠ¤íƒì— ëŒ€í•œ ë³´ì¡° í°íŠ¸ -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    /* ê³ ë”•(ì‚°ì„¸ë¦¬í”„) í†µì¼: ì‹œìŠ¤í…œ ê³ ë”• ìŠ¤íƒ + Noto Sans KR ë³´ì¡° */
    :root {
      --font-gothic: "Apple SD Gothic Neo","Malgun Gothic","Noto Sans KR",
                     -apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;
    }
    body {
      font-family: var(--font-gothic) !important;
      background: linear-gradient(135deg,#ff6b6b 0%,#ffd93d 25%,#6bcf7f 50%,#4ecdc4 75%,#667eea 100%);
      background-size: 400% 400%;
      animation: racingGradient 6s ease infinite;
      min-height:100vh; display:flex; justify-content:center; align-items:center; padding:20px;
      cursor:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><text y="20" font-size="20">ğŸï¸</text></svg>'), auto;
    }
    @keyframes racingGradient { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

    .container { max-width:800px; width:100%; min-height:80vh; position:relative; }

    .language-toggle {
      position:fixed; top:30px; right:30px; z-index:1000; display:flex;
      background:rgba(255,255,255,0.9); border-radius:25px; overflow:hidden; box-shadow:0 5px 15px rgba(0,0,0,0.1);
    }
    .lang-btn { padding:8px 16px; background:transparent; border:none; cursor:pointer; font-weight:700; color:#666; transition:.2s; }
    .lang-btn.active { background:#ff0000; color:#fff; }

    .start-screen { text-align:center; min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; }
    .main-title {
      font-family: var(--font-gothic) !important;
      font-size:clamp(3rem, 8vw, 6rem); font-weight:900; color:#fff; letter-spacing:-.02em; margin-bottom:2rem;
      text-shadow:0 0 30px rgba(255,255,255,0.5), 0 0 60px rgba(255,0,0,0.3);
      animation: glow 2s ease-in-out infinite alternate;
    }
    @keyframes glow {
      from { text-shadow:0 0 30px rgba(255,255,255,0.5), 0 0 60px rgba(255,0,0,0.3); }
      to   { text-shadow:0 0 40px rgba(255,255,255,0.8), 0 0 80px rgba(255,0,0,0.6); }
    }
    .sub-title { font-size:clamp(1.1rem,3vw,1.8rem); color:rgba(255,255,255,0.92); margin-bottom:3rem; text-shadow:0 2px 10px rgba(0,0,0,0.3); }

    .track-container { position:relative; width:300px; height:60px; margin:2rem auto; }
    .racing-track { width:100%; height:8px; background:#333; border-radius:4px; position:relative; overflow:hidden; }
    .track-lines {
      position:absolute; top:50%; left:0; right:0; height:2px;
      background:repeating-linear-gradient(90deg,#fff 0px,#fff 10px,transparent 10px,transparent 20px);
      transform:translateY(-50%); animation:trackMove 2s linear infinite;
    }
    @keyframes trackMove { from { transform:translateY(-50%) translateX(0) } to { transform:translateY(-50%) translateX(-20px) } }

    .start-btn {
      font-family: var(--font-gothic) !important;
      background:linear-gradient(135deg,#ff0000,#ff6600); color:#fff; border:none; padding:18px 42px; font-size:1.05rem; font-weight:800;
      border-radius:50px; cursor:pointer; transition:.25s; letter-spacing:.06em; box-shadow:0 10px 30px rgba(255,0,0,0.28); position:relative; overflow:hidden;
      text-transform:uppercase;
    }
    .start-btn::before { content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg,transparent, rgba(255,255,255,0.3), transparent); transition:left .6s; }
    .start-btn:hover::before { left:100%; }
    .start-btn:hover { transform:translateY(-3px); box-shadow:0 18px 36px rgba(255,0,0,0.35); }

    .loading-screen { display:none; text-align:center; min-height:100vh; flex-direction:column; justify-content:center; align-items:center; color:#fff; }
    .loading-title { font-size:2rem; font-weight:800; margin-bottom:2rem; text-shadow:0 0 20px rgba(255,255,255,0.5); }
    .pit-to-track { position:relative; width:500px; max-width:90vw; height:100px; margin:1.5rem auto; background:linear-gradient(180deg,#444 0%,#666 50%,#444 100%); border-radius:10px; overflow:hidden; }
    .pit-lane { position:absolute; left:0; top:20px; width:150px; height:60px; background:#333; border-radius:5px; }
    .main-track { position:absolute; right:0; top:10px; width:300px; height:80px; background:#222; border-radius:10px; }
    .racing-car { position:absolute; top:35px; left:20px; font-size:2.2rem; animation:pitToTrack 3s ease-in-out infinite; z-index:10; }
    @keyframes pitToTrack { 0%{left:20px; transform:scale(1)} 50%{left:200px; transform:scale(1.2)} 100%{left:400px; transform:scale(0.8)} }
    .loading-text { font-size:1rem; margin-top:.5rem; animation:textPulse 1.5s ease-in-out infinite; color:rgba(255,255,255,0.88); }
    @keyframes textPulse { 0%,100%{opacity:1} 50%{opacity:0.5} }

    .test-screen { background:rgba(255, 255, 255, 0.95); border-radius:20px; box-shadow:0 20px 60px rgba(0, 0, 0, 0.28); padding:32px; backdrop-filter:blur(10px); animation:slideIn .45s ease-out; display:none; }
    @keyframes slideIn { from { opacity:0; transform:translateY(24px) } to { opacity:1; transform:translateY(0) } }
    .progress-bar { width:100%; height:12px; background:#e8e8e8; border-radius:10px; margin-bottom:24px; overflow:hidden; position:relative; }
    .progress { height:100%; background:linear-gradient(90deg,#ff0000,#ff6600,#ffcc00,#00c853); border-radius:10px; transition:width .3s; width:0%; position:relative; }
    .progress::after { content:'ğŸï¸'; position:absolute; right:-15px; top:50%; transform:translateY(-50%); font-size:18px; }

    .question-container { display:none; animation:fadeIn .25s ease-in; }
    .question-container.active { display:block; }
    @keyframes fadeIn { from {opacity:0} to {opacity:1} }
    .question { font-size:18px; color:#222; margin-bottom:18px; font-weight:800; }
    .options { display:flex; flex-direction:column; gap:10px; }
    .option { padding:14px 18px; background:#f8f9fa; border:2px solid transparent; border-radius:12px; cursor:pointer; transition:.25s; font-size:15px; color:#444; position:relative; overflow:hidden; }
    .option::before { content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg,transparent, rgba(255,255,255,0.45), transparent); transition:left .6s; }
    .option:hover::before { left:100%; }
    .option:hover { background:linear-gradient(135deg,#667eea,#764ba2); color:#fff; transform:translateX(4px); border-left:4px solid #ff0000; }

    .result-screen { background:rgba(255, 255, 255, 0.95); border-radius:20px; box-shadow:0 20px 60px rgba(0,0,0,0.28); padding:32px; backdrop-filter:blur(10px); text-align:center; display:none; animation:slideIn .45s ease-out; }
    .result-title { font-size:1.8rem; color:#ff0000; margin-bottom:1.2rem; font-weight:900; letter-spacing:.06em; }
    .driver-img {
      width:160px; height:160px; border-radius:50%;
      background:linear-gradient(135deg,#ff0000,#ff6600);
      margin:16px auto; display:flex; align-items:center; justify-content:center;
      border:4px solid #fff; box-shadow:0 10px 30px rgba(0,0,0,0.2); overflow:hidden; position:relative;
    }
    .driver-photo { width:100%; height:100%; object-fit:cover; border-radius:50%; display:none; }
    .driver-name { font-size:1.8rem; color:#ff0000; margin:14px 0 6px; font-weight:900; text-shadow:0 2px 10px rgba(0,0,0,0.06); }
    .result-section { text-align:left; margin:16px 0; padding:16px; background:linear-gradient(135deg,#f8f9fa,#edf1f5); border-radius:14px; border-left:5px solid #ff0000; box-shadow:0 5px 14px rgba(0,0,0,0.08); }
    .result-section h3 { color:#ff0000; margin-bottom:10px; font-size:16px; display:flex; align-items:center; gap:8px; font-weight:900; }
    .result-section p { color:#444; line-height:1.75; font-size:14.5px; }

    .share-buttons { display:flex; gap:10px; justify-content:center; margin-top:18px; flex-wrap:wrap; }
    .share-btn, .restart-btn {
      font-family: var(--font-gothic) !important;
      padding:10px 18px; border:2px solid #ff0000; background:#fff; color:#ff0000; border-radius:22px; cursor:pointer; font-size:13.5px; font-weight:800;
      transition:.2s; position:relative; overflow:hidden;
    }
    .restart-btn { background:linear-gradient(135deg,#ff0000,#ff6600); color:#fff; }
    .share-btn::before, .restart-btn::before { content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:#ff0000; transition:left .25s; z-index:-1; }
    .share-btn:hover::before { left:0; }
    .share-btn:hover, .restart-btn:hover { color:#fff; transform:translateY(-2px); box-shadow:0 8px 20px rgba(255, 0, 0, 0.25); }

    .copy-success { position:fixed; top:20px; right:20px; background:#4CAF50; color:#fff; padding:12px 20px; border-radius:25px; font-size:14px; transform:translateX(300px); transition:transform .25s; z-index:1000; }
    .copy-success.show { transform:translateX(0); }

    @media (max-width:768px){
      .container{ padding:16px; }
      .main-title{ font-size:2.8rem; }
      .sub-title{ font-size:1rem; }
      .track-container{ width:250px; }
      .pit-to-track{ width:300px; }
    }
  </style>
</head>
<body>
  <!-- ì–¸ì–´ í† ê¸€ -->
  <div class="language-toggle">
    <button class="lang-btn active" onclick="setLanguage('ko', this)">í•œêµ­ì–´</button>
    <button class="lang-btn" onclick="setLanguage('en', this)">English</button>
  </div>

  <div class="copy-success" id="copySuccess">
    <span data-ko="ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ" data-en="Link copied! ğŸ">ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ</span>
  </div>

  <div class="container">
    <!-- ì‹œì‘ í™”ë©´ -->
    <div class="start-screen" id="startScreen">
      <h1 class="main-title">MY IDENTITY</h1>
      <p class="sub-title" data-ko="ë‚˜ì™€ ë‹®ì€ F1 ë“œë¼ì´ë²„ ì°¾ê¸°" data-en="Find Your F1 Driver Twin">ë‚˜ì™€ ë‹®ì€ F1 ë“œë¼ì´ë²„ ì°¾ê¸°</p>

      <div class="track-container">
        <div class="racing-track"><div class="track-lines"></div></div>
      </div>

      <button class="start-btn" onclick="showLoading()">
        <span data-ko="ğŸ í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°" data-en="ğŸ Start Test">ğŸ í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</span>
      </button>
    </div>

    <!-- ë¡œë”© í™”ë©´ -->
    <div class="loading-screen" id="loadingScreen">
      <h2 class="loading-title" data-ko="ë“œë¼ì´ë²„ ì¤€ë¹„ ì¤‘..." data-en="Driver Ready...">ë“œë¼ì´ë²„ ì¤€ë¹„ ì¤‘...</h2>
      <div class="pit-to-track"><div class="pit-lane"></div><div class="main-track"></div><div class="racing-car">ğŸï¸</div></div>
      <div class="loading-text" data-ko="í”¼íŠ¸ì—ì„œ ë©”ì¸ íŠ¸ë™ìœ¼ë¡œ ì´ë™ ì¤‘..." data-en="Moving from pit to main track...">í”¼íŠ¸ì—ì„œ ë©”ì¸ íŠ¸ë™ìœ¼ë¡œ ì´ë™ ì¤‘...</div>
    </div>

    <!-- ì§ˆë¬¸ í™”ë©´ -->
    <div class="test-screen" id="testScreen">
      <div class="progress-bar"><div class="progress" id="progressBar"></div></div>

      <!-- Q1 -->
      <div class="question-container active" data-question="1">
        <div class="question">
          <span data-ko="ğŸ Q1. ê³ ì†ë„ë¡œì—ì„œ ìš´ì „í•  ë•Œ ë‹¹ì‹ ì˜ ìŠ¤íƒ€ì¼ì€?" data-en="ğŸ Q1. What's your driving style on the highway?">ğŸ Q1. ê³ ì†ë„ë¡œì—ì„œ ìš´ì „í•  ë•Œ ë‹¹ì‹ ì˜ ìŠ¤íƒ€ì¼ì€?</span>
        </div>
        <div class="options">
          <div class="option" onclick="selectAnswer(1,'A')">
            <span data-ko="ì¶”ì›”ì°¨ì„ ì—ì„œ ì†ë„ë¥¼ ì¦ê¸°ë©° ë‹¬ë¦°ë‹¤" data-en="Enjoy speed in the fast lane">ì¶”ì›”ì°¨ì„ ì—ì„œ ì†ë„ë¥¼ ì¦ê¸°ë©° ë‹¬ë¦°ë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(1,'B')">
            <span data-ko="ì•ˆì •ì ìœ¼ë¡œ ì •ì† ì£¼í–‰ì„ ìœ ì§€í•œë‹¤" data-en="Maintain a steady cruising speed">ì•ˆì •ì ìœ¼ë¡œ ì •ì† ì£¼í–‰ì„ ìœ ì§€í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(1,'C')">
            <span data-ko="ë‹¤ë¥¸ ì°¨ë“¤ ì›€ì§ì„ ë³´ë©´ì„œ ì „ëµì ìœ¼ë¡œ ì°¨ì„  ë³€ê²½í•œë‹¤" data-en="Change lanes strategically based on traffic">ë‹¤ë¥¸ ì°¨ë“¤ ì›€ì§ì„ ë³´ë©´ì„œ ì „ëµì ìœ¼ë¡œ ì°¨ì„  ë³€ê²½í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(1,'D')">
            <span data-ko="ì•ì°¨ì™€ì˜ ê°„ê²©ì„ ì¢íˆë©° ì••ë°•í•œë‹¤" data-en="Close the gap and pressure the car ahead">ì•ì°¨ì™€ì˜ ê°„ê²©ì„ ì¢íˆë©° ì••ë°•í•œë‹¤</span>
          </div>
        </div>
      </div>

      <!-- Q2 -->
      <div class="question-container" data-question="2">
        <div class="question">
          <span data-ko="ğŸš— Q2. ì£¼ì°¨í•  ë•Œ ë‹¹ì‹ ì€?" data-en="ğŸš— Q2. When parking, you are?">ğŸš— Q2. ì£¼ì°¨í•  ë•Œ ë‹¹ì‹ ì€?</span>
        </div>
        <div class="options">
          <div class="option" onclick="selectAnswer(2,'A')">
            <span data-ko="í•œ ë²ˆì— ì™„ë²½í•˜ê²Œ ì£¼ì°¨í•œë‹¤" data-en="Park perfectly in one go">í•œ ë²ˆì— ì™„ë²½í•˜ê²Œ ì£¼ì°¨í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(2,'B')">
            <span data-ko="ì—¬ëŸ¬ ë²ˆ ì¡°ì •í•´ì„œ ì •í™•íˆ ë§ì¶˜ë‹¤" data-en="Adjust multiple times for precision">ì—¬ëŸ¬ ë²ˆ ì¡°ì •í•´ì„œ ì •í™•íˆ ë§ì¶˜ë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(2,'C')">
            <span data-ko="ëŒ€ì¶© ë“¤ì–´ê°€ë©´ ëœë‹¤ê³  ìƒê°í•œë‹¤" data-en="Roughly parked is good enough">ëŒ€ì¶© ë“¤ì–´ê°€ë©´ ëœë‹¤ê³  ìƒê°í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(2,'D')">
            <span data-ko="ì¢ì€ ê³µê°„ë„ ê³¼ê°í•˜ê²Œ ë„ì „í•œë‹¤" data-en="Boldly take tight spaces">ì¢ì€ ê³µê°„ë„ ê³¼ê°í•˜ê²Œ ë„ì „í•œë‹¤</span>
          </div>
        </div>
      </div>

      <!-- Q3 -->
      <div class="question-container" data-question="3">
        <div class="question">
          <span data-ko="ğŸŒ§ï¸ Q3. ë¹„ ì˜¤ëŠ” ë‚  ìš´ì „ì€?" data-en="ğŸŒ§ï¸ Q3. Driving on rainy days?">ğŸŒ§ï¸ Q3. ë¹„ ì˜¤ëŠ” ë‚  ìš´ì „ì€?</span>
        </div>
        <div class="options">
          <div class="option" onclick="selectAnswer(3,'A')">
            <span data-ko="ì˜¤íˆë ¤ ë” ì§œë¦¿í•˜ê³  ì¬ë¯¸ìˆë‹¤" data-en="Even more thrilling and fun">ì˜¤íˆë ¤ ë” ì§œë¦¿í•˜ê³  ì¬ë¯¸ìˆë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(3,'B')">
            <span data-ko="ìµœëŒ€í•œ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ìš´ì „í•œë‹¤" data-en="Drive as carefully as possible">ìµœëŒ€í•œ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ìš´ì „í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(3,'C')">
            <span data-ko="í‰ì†Œì™€ ë˜‘ê°™ì´ ìš´ì „í•œë‹¤" data-en="Drive the same as usual">í‰ì†Œì™€ ë˜‘ê°™ì´ ìš´ì „í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(3,'D')">
            <span data-ko="ê°€ëŠ¥í•˜ë©´ ìš´ì „ì„ í”¼í•œë‹¤" data-en="Avoid driving if possible">ê°€ëŠ¥í•˜ë©´ ìš´ì „ì„ í”¼í•œë‹¤</span>
          </div>
        </div>
      </div>

      <!-- Q4 -->
      <div class="question-container" data-question="4">
        <div class="question">
          <span data-ko="ğŸ‘¥ Q4. ì•ì°¨ê°€ ê°‘ìê¸° ë¼ì–´ë“¤ë©´ ë‹¹ì‹ ì€?" data-en="ğŸ‘¥ Q4. When a car suddenly cuts in front, you?">ğŸ‘¥ Q4. ì•ì°¨ê°€ ê°‘ìê¸° ë¼ì–´ë“¤ë©´ ë‹¹ì‹ ì€?</span>
        </div>
        <div class="options">
          <div class="option" onclick="selectAnswer(4,'A')">
            <span data-ko="ê²½ì ì„ ìš¸ë¦¬ë©° ë°”ë¡œ ë°˜ì‘í•œë‹¤" data-en="Honk and react immediately">ê²½ì ì„ ìš¸ë¦¬ë©° ë°”ë¡œ ë°˜ì‘í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(4,'B')">
            <span data-ko="ê·¸ëƒ¥ ì†ë„ë¥¼ ì¤„ì´ê³  ì–‘ë³´í•œë‹¤" data-en="Slow down and yield">ê·¸ëƒ¥ ì†ë„ë¥¼ ì¤„ì´ê³  ì–‘ë³´í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(4,'C')">
            <span data-ko="ì¶”ì›” ê¸°íšŒë§Œ ê¸°ë‹¤ë¦°ë‹¤" data-en="Wait for a safe overtake chance">ì¶”ì›” ê¸°íšŒë§Œ ê¸°ë‹¤ë¦°ë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(4,'D')">
            <span data-ko="ì¡°ìš©íˆ ì°¨ ì•ˆì—ì„œ í˜¼ì í™”ë‚¸ë‹¤" data-en="Get mad quietly but keep driving calmly">ì¡°ìš©íˆ ì°¨ ì•ˆì—ì„œ í˜¼ì í™”ë‚¸ë‹¤</span>
          </div>
        </div>
      </div>

      <!-- Q5 -->
      <div class="question-container" data-question="5">
        <div class="question">
          <span data-ko="ğŸ”¥ Q5. ë‚´ë¹„ê²Œì´ì…˜ì´ ë‘ ê°€ì§€ ê¸¸ì„ ì¶”ì²œí•œë‹¤ë©´?" data-en="ğŸ”¥ Q5. If navigation suggests two routes, you?">ğŸ”¥ Q5. ë‚´ë¹„ê²Œì´ì…˜ì´ ë‘ ê°€ì§€ ê¸¸ì„ ì¶”ì²œí•œë‹¤ë©´?</span>
        </div>
        <div class="options">
          <div class="option" onclick="selectAnswer(5,'A')">
            <span data-ko="ë¹¨ë¦¬ ê°€ëŠ” ê¸¸ì„ ì„ íƒí•œë‹¤" data-en="Choose the fastest route">ë¹¨ë¦¬ ê°€ëŠ” ê¸¸ì„ ì„ íƒí•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(5,'B')">
            <span data-ko="ìµìˆ™í•œ ê¸¸ì´ ë” í¸í•˜ë‹¤" data-en="Prefer the familiar route">ìµìˆ™í•œ ê¸¸ì´ ë” í¸í•˜ë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(5,'C')">
            <span data-ko="ì°¨ ë§‰í˜ í”¼í•  ìˆ˜ ìˆëŠ” ê¸¸ì„ ê³„ì‚°í•œë‹¤" data-en="Pick the least congested route">ì°¨ ë§‰í˜ í”¼í•  ìˆ˜ ìˆëŠ” ê¸¸ì„ ê³„ì‚°í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(5,'D')">
            <span data-ko="ê²½ì¹˜ ì¢‹ì€ ê¸¸ì´ ë” ëŒë¦°ë‹¤" data-en="Pick the scenic route">ê²½ì¹˜ ì¢‹ì€ ê¸¸ì´ ë” ëŒë¦°ë‹¤</span>
          </div>
        </div>
      </div>

      <!-- Q6 -->
      <div class="question-container" data-question="6">
        <div class="question">
          <span data-ko="âœ¨ Q6. ì¥ê±°ë¦¬ ìš´ì „ ì¤‘ ì¡¸ìŒì´ ì˜¨ë‹¤ë©´?" data-en="âœ¨ Q6. On a long drive when sleepy, you?">âœ¨ Q6. ì¥ê±°ë¦¬ ìš´ì „ ì¤‘ ì¡¸ìŒì´ ì˜¨ë‹¤ë©´?</span>
        </div>
        <div class="options">
          <div class="option" onclick="selectAnswer(6,'A')">
            <span data-ko="ìŒì•…ì„ í¬ê²Œ í‹€ê³  ê³„ì† ê°„ë‹¤" data-en="Turn up the music and keep going">ìŒì•…ì„ í¬ê²Œ í‹€ê³  ê³„ì† ê°„ë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(6,'B')">
            <span data-ko="íœ´ê²Œì†Œ ë“¤ëŸ¬ì„œ ë°”ë¡œ ì‰°ë‹¤" data-en="Pull over and rest at a rest area">íœ´ê²Œì†Œ ë“¤ëŸ¬ì„œ ë°”ë¡œ ì‰°ë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(6,'C')">
            <span data-ko="ì¹´í˜ì¸ìœ¼ë¡œ ë²„í‹´ë‹¤" data-en="Rely on caffeine">ì¹´í˜ì¸ìœ¼ë¡œ ë²„í‹´ë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(6,'D')">
            <span data-ko="ë™ìŠ¹ìì™€ ëŒ€í™”í•˜ë©° ì¡¸ìŒì„ ì«“ëŠ”ë‹¤" data-en="Chat with a passenger to stay awake">ë™ìŠ¹ìì™€ ëŒ€í™”í•˜ë©° ì¡¸ìŒì„ ì«“ëŠ”ë‹¤</span>
          </div>
        </div>
      </div>

      <!-- Q7 -->
      <div class="question-container" data-question="7">
        <div class="question">
          <span data-ko="ğŸ˜¤ Q7. í™©ìƒ‰ ì‹ í˜¸ë¥¼ ë§Œë‚¬ì„ ë•Œ ë‹¹ì‹ ì˜ ì„ íƒì€?" data-en="ğŸ˜¤ Q7. At a yellow light, you?">ğŸ˜¤ Q7. í™©ìƒ‰ ì‹ í˜¸ë¥¼ ë§Œë‚¬ì„ ë•Œ ë‹¹ì‹ ì˜ ì„ íƒì€?</span>
        </div>
        <div class="options">
          <div class="option" onclick="selectAnswer(7,'A')">
            <span data-ko="ë°”ë¡œ ì†ë„ ë†’ì—¬ì„œ í†µê³¼í•œë‹¤" data-en="Speed up to pass">ë°”ë¡œ ì†ë„ ë†’ì—¬ì„œ í†µê³¼í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(7,'B')">
            <span data-ko="ë¯¸ë¦¬ ë©ˆì¶œ ì¤€ë¹„ë¥¼ í•œë‹¤" data-en="Prepare to stop">ë¯¸ë¦¬ ë©ˆì¶œ ì¤€ë¹„ë¥¼ í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(7,'C')">
            <span data-ko="ì£¼ë³€ ì°¨ëŸ‰ ë³´ê³  ìƒí™©ì— ë§ê²Œ íŒë‹¨í•œë‹¤" data-en="Decide based on surrounding traffic">ì£¼ë³€ ì°¨ëŸ‰ ë³´ê³  ìƒí™©ì— ë§ê²Œ íŒë‹¨í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(7,'D')">
            <span data-ko="ê¸‰ì •ê±°í•˜ì§€ ì•Šë„ë¡ ì¡°ì‹¬í•œë‹¤" data-en="Avoid sudden braking safely">ê¸‰ì •ê±°í•˜ì§€ ì•Šë„ë¡ ì¡°ì‹¬í•œë‹¤</span>
          </div>
        </div>
      </div>

      <!-- Q8 -->
      <div class="question-container" data-question="8">
        <div class="question">
          <span data-ko="ğŸ’ Q8. êµí†µ ì²´ì¦ì— ê°‡í˜”ì„ ë•Œ ë‹¹ì‹ ì€?" data-en="ğŸ’ Q8. In a traffic jam, you?">ğŸ’ Q8. êµí†µ ì²´ì¦ì— ê°‡í˜”ì„ ë•Œ ë‹¹ì‹ ì€?</span>
        </div>
        <div class="options">
          <div class="option" onclick="selectAnswer(8,'A')">
            <span data-ko="ì°¨ì„  ë°”ê¾¸ë©´ì„œ ì¡°ê¸ˆì´ë¼ë„ ë¹¨ë¦¬ ê°€ë ¤ í•œë‹¤" data-en="Change lanes to gain any advantage">ì°¨ì„  ë°”ê¾¸ë©´ì„œ ì¡°ê¸ˆì´ë¼ë„ ë¹¨ë¦¬ ê°€ë ¤ í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(8,'B')">
            <span data-ko="ê·¸ëƒ¥ ìŒì•… ë“¤ìœ¼ë©´ì„œ ì—¬ìœ ë¡­ê²Œ ê¸°ë‹¤ë¦°ë‹¤" data-en="Wait calmly with music on">ê·¸ëƒ¥ ìŒì•… ë“¤ìœ¼ë©´ì„œ ì—¬ìœ ë¡­ê²Œ ê¸°ë‹¤ë¦°ë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(8,'C')">
            <span data-ko="ìš°íšŒë¡œë¥¼ ë°”ë¡œ ê²€ìƒ‰í•œë‹¤" data-en="Immediately search for a detour">ìš°íšŒë¡œë¥¼ ë°”ë¡œ ê²€ìƒ‰í•œë‹¤</span>
          </div>
          <div class="option" onclick="selectAnswer(8,'D')">
            <span data-ko="ì–´ì©” ìˆ˜ ì—†ìœ¼ë‹ˆ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì ‘ê³  ìš´ì „í•œë‹¤" data-en="Let go of stress and just drive safely">ì–´ì©” ìˆ˜ ì—†ìœ¼ë‹ˆ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì ‘ê³  ìš´ì „í•œë‹¤</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ê²°ê³¼ í™”ë©´ -->
    <div class="result-screen" id="resultScreen">
      <h1 class="result-title" data-ko="ğŸ† ë‹¹ì‹ ê³¼ ë‹®ì€ F1 ë“œë¼ì´ë²„ëŠ”..." data-en="ğŸ† Your F1 Driver Twin is...">ğŸ† ë‹¹ì‹ ê³¼ ë‹®ì€ F1 ë“œë¼ì´ë²„ëŠ”...</h1>
      <div class="driver-img" id="driverImg">
        <!-- ì´ëª¨ì§€ ì œê±°: ì‚¬ì§„ë§Œ í‘œì‹œ -->
        <img id="driverPhoto" class="driver-photo" alt="Driver photo"/>
      </div>
      <div class="driver-name" id="driverName">Loading...</div>

      <div class="result-section">
        <h3>ğŸï¸ <span data-ko="ìš´ì „ ì„±í–¥" data-en="Driving Style">ìš´ì „ ì„±í–¥</span></h3>
        <p id="drivingStyle"></p>
      </div>

      <div class="result-section">
        <h3>ğŸ‘¥ <span data-ko="ì£¼ë³€ì—ì„œ ë“£ëŠ” ì†Œë¦¬" data-en="What Others Say">ì£¼ë³€ì—ì„œ ë“£ëŠ” ì†Œë¦¬</span></h3>
        <p id="whatOthersSay"></p>
      </div>

      <div class="result-section">
        <h3>âš ï¸ <span data-ko="ìœ ì˜ì " data-en="Cautions">ìœ ì˜ì </span></h3>
        <p id="cautions"></p>
      </div>

      <div class="share-buttons">
        <button class="share-btn" id="btnShareNative" onclick="shareNative()">
          <span data-ko="ğŸ“² ì‹œìŠ¤í…œ ê³µìœ " data-en="ğŸ“² System Share">ğŸ“² ì‹œìŠ¤í…œ ê³µìœ </span>
        </button>

        <button class="share-btn" onclick="shareToX()">
          <span data-ko="ğ• ì— ê³µìœ " data-en="Share on ğ•">ğ• ì— ê³µìœ </span>
        </button>

        <button class="share-btn" onclick="shareToFacebook()">
          <span data-ko="Facebook ê³µìœ " data-en="Share on Facebook">Facebook ê³µìœ </span>
        </button>

        <button class="share-btn" onclick="shareToLinkedIn()">
          <span data-ko="LinkedIn ê³µìœ " data-en="Share on LinkedIn">LinkedIn ê³µìœ </span>
        </button>

        <!-- ì¹´ì¹´ì˜¤í†¡: SDK ì´ˆê¸°í™”ë˜ë©´ ìë™ í‘œì‹œ -->
        <button class="share-btn" id="btnKakao" style="display:none" onclick="shareToKakao()">
          <span data-ko="KakaoTalk ê³µìœ " data-en="Share on KakaoTalk">KakaoTalk ê³µìœ </span>
        </button>

        <button class="share-btn" onclick="copyLink()">
          <span data-ko="ğŸ”— ë§í¬ ë³µì‚¬" data-en="ğŸ”— Copy Link">ğŸ”— ë§í¬ ë³µì‚¬</span>
        </button>

        <button class="restart-btn" onclick="restartTest()">
          <span data-ko="ğŸ”„ ë‹¤ì‹œ í…ŒìŠ¤íŠ¸" data-en="ğŸ”„ Restart Test">ğŸ”„ ë‹¤ì‹œ í…ŒìŠ¤íŠ¸</span>
        </button>
      </div>
    </div>
  </div>

  <script>
    // ===== ìƒíƒœ =====
    let currentQuestion = 1;
    const totalQuestions = 8;
    let answers = {};
    let currentLanguage = 'ko';
    let _lastShare = { key: null, url: null, text: null, title: null };

    // ===== ë“œë¼ì´ë²„ ë°ì´í„° =====
    const drivers = {
      max:{ name:{ko:'ë§‰ìŠ¤ ë² ë¥´ìŠ¤íƒ€íœ', en:'Max Verstappen'}, emoji:'ğŸ¦',
        photo:'https://upload.wikimedia.org/wikipedia/commons/7/75/Max_Verstappen_2017_Malaysia_3.jpg',
        style:{ko:'ê³µê²©ì ì´ê³  ê³¼ê°í•œ ìš´ì „. ë¹ˆí‹ˆì—†ëŠ” ì§‘ì¤‘ë ¥ê³¼ ì••ë„ì ì¸ í˜ì´ìŠ¤.', en:'Aggressive and bold. Relentless focus and overwhelming pace.'},
        others:{ko:'"ë¹ ë¥´ë‹¤", "ì´ê¸°ê³ ì í•˜ëŠ” ì˜ì§€ê°€ ê°•í•˜ë‹¤", "í”„ë¡œí˜ì…”ë„í•˜ë‹¤"', en:'"Fast", "Strong will to win", "Very professional"'},
        caution:{ko:'ëª¨ë“  ìˆœê°„ì„ ê²½ìŸìœ¼ë¡œ ë§Œë“¤ì§€ ë§ê³ , ë•Œë¡œëŠ” ì†ë„ë¥¼ ë‚®ì¶° ì—¬ìœ ë¥¼ ê°€ì§€ê¸°.', en:'Donâ€™t turn every moment into a race; sometimes slow down and breathe.'}
      },
      lewis:{ name:{ko:'ë£¨ì´ìŠ¤ í•´ë°€í„´', en:'Lewis Hamilton'}, emoji:'ğŸ‘‘',
        photo:'https://upload.wikimedia.org/wikipedia/commons/a/ac/Lewis_Hamilton_2022_S%C3%A3o_Paulo_Grand_Prix_%2852498120773%29_%28cropped%29.jpg',
        style:{ko:'ê²½í—˜ê³¼ ì§ê´€ì˜ ì¡°í™”. í•„ìš”í•  ë•Œ í­ë°œí•˜ëŠ” ìŠ¤í”¼ë“œ.', en:'Harmony of experience and intuition. Explodes with speed when needed.'},
        others:{ko:'"ë¦¬ë”ì‹­ ìˆë‹¤", "í•­ìƒ ì¹¨ì°©í•˜ë‹¤", "ì›ì¹™ì´ í™•ê³ í•˜ë‹¤"', en:'"Shows leadership", "Calm under pressure", "Strong principles"'},
        caution:{ko:'ëª¨ë“  ê±¸ í˜¼ì ì§Šì–´ì§€ì§€ ë§ê³  ë„ì›€ì„ ìš”ì²­í•˜ê¸°.', en:'Donâ€™t carry everything alone; ask for help.'}
      },
      charles:{ name:{ko:'ìƒ¤ë¥¼ ë¥´í´ë ˆë¥´', en:'Charles Leclerc'}, emoji:'ğŸ”¥',
        photo:'https://upload.wikimedia.org/wikipedia/commons/8/8e/Charles_Leclerc_2024.jpg',
        style:{ko:'ì§ê´€ì ì´ê³  ê°ê°ì ì¸ ë¼ì¸. ìˆœê°„ íŒë‹¨ë ¥ì´ ë›°ì–´ë‚¨.', en:'Intuitive, flowing lines. Excellent split-second judgment.'},
        others:{ko:'"ì—´ì •ì ", "ì¬ëŠ¥ ë›°ì–´ë‚¨", "ê°€ë” ì„œë‘ë¥¸ë‹¤"', en:'"Passionate", "Highly talented", "Sometimes hasty"'},
        caution:{ko:'ê°ì •ì´ ì˜¬ë¼ì˜¬ ë•Œ í˜¸í¡ ì¡°ì ˆê³¼ ì¹¨ì°© ìœ ì§€.', en:'When emotions rise, breathe and stay composed.'}
      },
      lando:{ name:{ko:'ë€ë„ ë…¸ë¦¬ìŠ¤', en:'Lando Norris'}, emoji:'ğŸ®',
        photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/2024-08-25_Motorsport%2C_Formel_1%2C_Gro%C3%9Fer_Preis_der_Niederlande_2024_STP_4016_by_Stepro_%28cropped%29.jpg/640px-2024-08-25_Motorsport%2C_Formel_1%2C_Gro%C3%9Fer_Preis_der_Niederlande_2024_STP_4016_by_Stepro_%28cropped%29.jpg',
        style:{ko:'ìœ ì—°í•˜ê³  ë°˜ì‘ ë¹ ë¦„. ì ì‘ë ¥ ë†’ì€ ë„¤ì´í‹°ë¸Œ ìŠ¤íƒ€ì¼.', en:'Flexible and reactive. Highly adaptable.'},
        others:{ko:'"ë°ë‹¤", "ì¬ì¹˜ ìˆë‹¤", "ê²¸ì†í•˜ë‹¤"', en:'"Bright", "Witty", "Humble"'},
        caution:{ko:'ì¤‘ìš”í•œ ìˆœê°„ì—ëŠ” ë†ë‹´ë³´ë‹¤ ì§‘ì¤‘ì´ ìš°ì„ .', en:'In key moments, focus over jokes.'}
      },
      fernando:{ name:{ko:'í˜ë¥´ë‚œë„ ì•Œë¡ ì†Œ', en:'Fernando Alonso'}, emoji:'ğŸ¦Š',
        photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2b/Alonso_2016.jpg/640px-Alonso_2016.jpg',
        style:{ko:'ë…¸ë ¨í•œ ì „ëµê°€. ì¥ê¸°ì „ê³¼ ë³€ìˆ˜ ëŒ€ì‘ ê°•í•¨.', en:'Seasoned strategist. Strong in long runs and variables.'},
        others:{ko:'"ëˆì§ˆê¸°ë‹¤", "ì˜ë¦¬í•˜ë‹¤", "í¬ê¸°í•˜ì§€ ì•ŠëŠ”ë‹¤"', en:'"Persistent", "Clever", "Never gives up"'},
        caution:{ko:'ê²½í—˜ë§Œ ê³ ì§‘í•˜ì§€ ë§ê³  ë³€í™”ë„ ìˆ˜ìš©í•˜ê¸°.', en:'Donâ€™t rely only on experience; embrace change.'}
      },
      carlos:{ name:{ko:'ì¹´ë¥¼ë¡œìŠ¤ ì‚¬ì¸ì¸ ', en:'Carlos Sainz'}, emoji:'ğŸŒ¶ï¸',
        photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Carlos_Sainz_Jr_Motorland_2014.jpg/1024px-Carlos_Sainz_Jr_Motorland_2014.jpg',
        style:{ko:'ì•ˆì •ì ì´ê³  ì‹¤ìˆ˜ ì ìŒ. ê¾¸ì¤€í•œ í¼í¬ë¨¼ìŠ¤.', en:'Stable, low-error, consistent performance.'},
        others:{ko:'"ë¯¿ìŒì§", "ê¾¸ì¤€", "íŒ€í”Œë ˆì´ì–´"', en:'"Reliable", "Consistent", "Team player"'},
        caution:{ko:'ê°€ë”ì€ ë” ê³¼ê°í•´ì•¼ ê¸°íšŒë¥¼ ì¡ìŒ.', en:'Sometimes be bolder to seize chances.'}
      },
      george:{ name:{ko:'ì¡°ì§€ ëŸ¬ì…€', en:'George Russell'}, emoji:'ğŸ¯',
        photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/FIA_F1_Austria_2022_George_Russell_%282%29_%28cropped%29.jpg/800px-FIA_F1_Austria_2022_George_Russell_%282%29_%28cropped%29.jpg',
        style:{ko:'ê³„ì‚°ì ì´ê³  ì •í™•. ë¦¬ìŠ¤í¬ ìµœì†Œí™”.', en:'Calculated and precise. Minimizes risk.'},
        others:{ko:'"ê³„íšì ", "ì˜ˆì˜ë°”ë¦„", "ì‹ ì¤‘í•¨"', en:'"Well-planned", "Polite", "Cautious"'},
        caution:{ko:'ëª¨ë“  ê±¸ ê³„íší•  ìˆ˜ëŠ” ì—†ìŒ. ì§ê´€ë„ ì‹ ë¢°í•˜ê¸°.', en:'You canâ€™t plan everything; trust intuition too.'}
      },
      sergio:{ name:{ko:'ì„¸ë¥´íˆì˜¤ í˜ë ˆì¦ˆ', en:'Sergio Perez'}, emoji:'ğŸ›¡ï¸',
        photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Sergio_P%C3%A9rez_2019_%28cropped%29.jpg/640px-Sergio_P%C3%A9rez_2019_%28cropped%29.jpg',
        style:{ko:'íƒ€ì´ì–´/ìì› ê´€ë¦¬ì˜ ë‹¬ì¸. ì¸ë‚´ì‹¬ ê°•í•¨.', en:'Master of tire/resource management. Patient.'},
        others:{ko:'"íŒ€í”Œë ˆì´", "ì¸ë‚´ì‹¬", "ì¡°ìš©í•œ í—Œì‹ "', en:'"Team player", "Patient", "Quiet dedication"'},
        caution:{ko:'í•­ìƒ í¬ìƒë§Œ í•˜ì§€ ë§ê³  ë³¸ì¸ ëª©í‘œë„ ì±™ê¸°ê¸°.', en:'Donâ€™t always sacrifice; pursue your own goals too.'}
      }
    };

    // ===== ì–¸ì–´ =====
    function setLanguage(lang, btnEl){
      currentLanguage = lang;
      document.documentElement.lang = lang;
      document.querySelectorAll('.lang-btn').forEach(b=>b.classList.remove('active'));
      if(btnEl) btnEl.classList.add('active');
      document.querySelectorAll('[data-ko][data-en]').forEach(el=>{
        el.textContent = el.getAttribute(`data-${lang}`);
      });
    }

    // ===== ë‚´ë¹„ê²Œì´ì…˜ =====
    function showLoading(){
      document.getElementById('startScreen').style.display='none';
      const loading = document.getElementById('loadingScreen');
      loading.style.display='flex';
      setTimeout(()=>{
        loading.style.display='none';
        document.getElementById('testScreen').style.display='block';
        updateProgressBar();
      },1200);
    }

    function selectAnswer(questionNum, answer){
      answers[questionNum] = answer;
      if(questionNum < totalQuestions){
        document.querySelector(`[data-question="${questionNum}"]`).classList.remove('active');
        setTimeout(()=>{
          document.querySelector(`[data-question="${questionNum+1}"]`).classList.add('active');
          currentQuestion++;
          updateProgressBar();
        },180);
      } else {
        setTimeout(showResult, 260);
      }
    }

    function updateProgressBar(){
      const progress = (currentQuestion/totalQuestions)*100;
      document.getElementById('progressBar').style.width = progress + '%';
    }

    // ===== ìŠ¤ì½”ì–´ë§(ê°€ì¤‘ + ê²°ì • íƒ€ì´ë¸Œë ˆì´ì»¤) =====
    const scoringMap = {
      1:{ A:['max','charles','lando'], B:['george','carlos','sergio'], C:['lewis','fernando','lando'], D:['max','fernando'] },
      2:{ A:['lewis','george'],        B:['george','carlos','sergio'], C:['lando','charles'],         D:['max','fernando'] },
      3:{ A:['max','lando','fernando'],B:['george','sergio','carlos'], C:['lewis','carlos'],          D:['george','sergio'] },
      4:{ A:['max','charles'],         B:['george','sergio','carlos'], C:['lewis','fernando'],        D:['carlos','lando'] },
      5:{ A:['max','lewis'],           B:['carlos','george'],          C:['fernando','george'],       D:['lando','charles','sergio'] },
      6:{ A:['max','charles'],         B:['sergio','george','carlos'], C:['sergio','george'],         D:['lando','lewis'] },
      7:{ A:['max','charles'],         B:['george','carlos','sergio'], C:['lewis','fernando'],        D:['lewis','sergio','carlos'] },
      8:{ A:['max','charles'],         B:['carlos','sergio'],          C:['lewis','fernando','george'], D:['lando','sergio','carlos'] }
    };

    function calculateResult(){
      const scores = { max:0, lewis:0, charles:0, lando:0, fernando:0, carlos:0, george:0, sergio:0 };
      const weights = {1:2,2:1,3:2,4:1,5:1,6:1,7:2,8:1}; // í•µì‹¬ Q1,Q3,Q7 ê°€ì¤‘ 2

      for(let q=1; q<=totalQuestions; q++){
        const ans = answers[q];
        if(!ans || !scoringMap[q] || !scoringMap[q][ans]) continue;
        const w = weights[q] || 1;
        scoringMap[q][ans].forEach(d => { scores[d] += w; });
      }

      const maxScore = Math.max(...Object.values(scores));
      let candidates = Object.keys(scores).filter(k => scores[k] === maxScore);
      if(candidates.length === 1) return candidates[0];

      // íƒ€ì´ë¸Œë ˆì´ì»¤ 1: í•µì‹¬ë¬¸í•­ ë“ì (Q1,Q3,Q7)
      const keyQs = [1,3,7];
      const keyScore = (driver) => keyQs.reduce((s,kq)=>{
        const ans = answers[kq];
        return s + (ans && scoringMap[kq] && scoringMap[kq][ans] && scoringMap[kq][ans].includes(driver) ? 1 : 0);
      },0);
      let bestKey = Math.max(...candidates.map(d=>keyScore(d)));
      candidates = candidates.filter(d=>keyScore(d)===bestKey);
      if(candidates.length === 1) return candidates[0];

      // íƒ€ì´ë¸Œë ˆì´ì»¤ 2: ì´ˆê¸° ì„±í–¥ ë°˜ì˜(ë‚®ì€ ë¬¸í•­ë²ˆí˜¸ ê°€ì¤‘)
      const earlyBias = (driver)=>{
        let s=0;
        for(let q=1; q<=totalQuestions; q++){
          const ans = answers[q];
          if(ans && scoringMap[q] && scoringMap[q][ans] && scoringMap[q][ans].includes(driver)){
            s += (9 - q); // Q1=+8 ... Q8=+1
          }
        }
        return s;
      };
      let bestEarly = Math.max(...candidates.map(d=>earlyBias(d)));
      candidates = candidates.filter(d=>earlyBias(d)===bestEarly);
      if(candidates.length === 1) return candidates[0];

      // íƒ€ì´ë¸Œë ˆì´ì»¤ 3: ê³ ì • ìš°ì„ ìˆœìœ„
      const finalPriority = ['max','lewis','charles','fernando','lando','george','carlos','sergio'];
      candidates.sort((a,b)=>finalPriority.indexOf(a)-finalPriority.indexOf(b));
      return candidates[0];
    }

    // ===== ê²°ê³¼ ë Œë” =====
    function showResult(){
      const key = calculateResult();
      showResultForKey(key);
    }
    function showResultForKey(key){
      const d = drivers[key];
      if(!d) return;

      document.getElementById('testScreen').style.display='none';
      document.getElementById('resultScreen').style.display='block';

      const photo = document.getElementById('driverPhoto');
      photo.style.display='none';
      photo.src = d.photo;
      photo.onload = ()=>{ photo.style.display='block'; };
      photo.onerror = ()=>{ photo.style.display='none'; };

      document.getElementById('driverName').textContent = d.name[currentLanguage];
      document.getElementById('drivingStyle').textContent = d.style[currentLanguage];
      document.getElementById('whatOthersSay').textContent = d.others[currentLanguage];
      document.getElementById('cautions').textContent = d.caution[currentLanguage];

      updateShareButtons(key);
      window.scrollTo({ top:0, behavior:'smooth' });
    }

    function restartTest(){
      currentQuestion = 1; answers = {};
      document.getElementById('resultScreen').style.display='none';
      document.getElementById('startScreen').style.display='block';
      document.querySelectorAll('.question-container').forEach((el,idx)=>{
        el.classList.remove('active'); if(idx===0) el.classList.add('active');
      });
      updateProgressBar();
      // ê³µìœ ë²„íŠ¼ ë„¤ì´í‹°ë¸Œ í‘œì‹œ/ìˆ¨ê¹€ ì´ˆê¸°í™”
      const btnNative = document.getElementById('btnShareNative'); if(btnNative) btnNative.style.display = (navigator.share ? 'inline-block':'none');
      const btnKakao  = document.getElementById('btnKakao'); if(btnKakao) btnKakao.style.display = (typeof Kakao !== 'undefined' && Kakao.isInitialized && Kakao.isInitialized()) ? 'inline-block' : 'none';
    }

    // ===== ê³µìœ  ìœ í‹¸ =====
    function buildShareUrl(driverKey) {
      try {
        const url = new URL(window.location.href);
        url.searchParams.set('driver', driverKey);
        url.searchParams.set('lang', currentLanguage || 'ko');
        return url.toString();
      } catch (e) {
        const sep = window.location.href.includes('?') ? '&' : '?';
        return window.location.href + sep + 'driver=' + encodeURIComponent(driverKey) + '&lang=' + encodeURIComponent(currentLanguage || 'ko');
      }
    }
    function buildShareText(driverKey) {
      const d = drivers[driverKey];
      if (!d) return currentLanguage === 'en' ? 'Find your F1 Driver Twin!' : 'ë‚˜ì™€ ë‹®ì€ F1 ë“œë¼ì´ë²„ëŠ” ëˆ„êµ¬ì¼ê¹Œ?';
      const name = d.name[currentLanguage] || d.name.ko;
      return currentLanguage === 'en' ? `My F1 Driver Twin: ${name} ğŸ` : `ë‚´ F1 ë“œë¼ì´ë²„ ë„í”Œê°±ì–´: ${name} ğŸ`;
    }
    function updateShareButtons(driverKey) {
      const title = currentLanguage === 'en' ? 'Find Your F1 Driver Twin' : 'ë‚˜ì™€ ë‹®ì€ F1 ë“œë¼ì´ë²„ ì°¾ê¸°';
      const text  = buildShareText(driverKey);
      const url   = buildShareUrl(driverKey);
      _lastShare = { key: driverKey, url, text, title };

      const btnNative = document.getElementById('btnShareNative');
      if (btnNative) btnNative.style.display = (navigator.share ? 'inline-block' : 'none');

      const btnKakao = document.getElementById('btnKakao');
      if (btnKakao) {
        const ready = (typeof Kakao !== 'undefined') && Kakao.isInitialized && Kakao.isInitialized();
        btnKakao.style.display = ready ? 'inline-block' : 'none';
      }
    }
    async function shareNative() {
      if (!navigator.share || !_lastShare.url) return;
      try { await navigator.share({ title:_lastShare.title, text:_lastShare.text, url:_lastShare.url }); } catch(e) {}
    }
    function openPopup(url) {
      const w = 640, h = 640;
      const y = window.top.outerHeight / 2 + window.top.screenY - (h/2);
      const x = window.top.outerWidth  / 2 + window.top.screenX - (w/2);
      window.open(url, '_blank', `popup=yes,width=${w},height=${h},top=${y},left=${x}`);
    }
    function shareToX() {
      const t = encodeURIComponent(_lastShare.text || '');
      const u = encodeURIComponent(_lastShare.url || window.location.href);
      openPopup(`https://twitter.com/intent/tweet?text=${t}&url=${u}`);
    }
    function shareToFacebook() {
      const u = encodeURIComponent(_lastShare.url || window.location.href);
      openPopup(`https://www.facebook.com/sharer/sharer.php?u=${u}`);
    }
    function shareToLinkedIn() {
      const u = encodeURIComponent(_lastShare.url || window.location.href);
      openPopup(`https://www.linkedin.com/sharing/share-offsite/?url=${u}`);
    }
    function shareToKakao() {
      if (typeof Kakao === 'undefined' || !Kakao.isInitialized || !Kakao.isInitialized()) return;
      const title = _lastShare.title;
      const desc  = _lastShare.text;
      const link  = { mobileWebUrl:_lastShare.url, webUrl:_lastShare.url };
      const imageUrl = 'https://upload.wikimedia.org/wikipedia/commons/3/3e/Formula_one_flag.svg';
      Kakao.Share.sendDefault({
        objectType: 'feed',
        content: { title, description: desc, imageUrl, link },
        buttons: [ { title: currentLanguage === 'en' ? 'Open' : 'ì—´ì–´ë³´ê¸°', link } ]
      });
    }
    async function copyLink() {
      const shareUrl = _lastShare.url || window.location.href;
      try { await navigator.clipboard.writeText(shareUrl); showCopySuccess(); }
      catch (err) {
        const textArea = document.createElement('textarea');
        textArea.value = shareUrl; document.body.appendChild(textArea);
        textArea.select(); document.execCommand('copy'); document.body.removeChild(textArea);
        showCopySuccess();
      }
    }
    function showCopySuccess(){
      const el=document.getElementById('copySuccess');
      el.classList.add('show'); setTimeout(()=>el.classList.remove('show'),1800);
    }

    // ===== ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ê²°ê³¼ ë°”ë¡œ ë³´ê¸°(ê³µìœ  ë§í¬ ë³µì›) =====
    function initFromQuery(){
      const params = new URLSearchParams(location.search);
      const lang = params.get('lang');
      const driver = params.get('driver');
      if (lang && (lang==='ko' || lang==='en')) {
        setLanguage(lang, document.querySelector(`.lang-btn${lang==='ko'?':first-child':':last-child'}`));
      } else {
        // ì´ˆê¸° ë„¤ì´í‹°ë¸Œ/ì¹´ì¹´ì˜¤ ë²„íŠ¼ í‘œì‹œ ìƒíƒœë§Œ ë§ì¶”ê¸°
        const btnNative = document.getElementById('btnShareNative'); if(btnNative) btnNative.style.display = (navigator.share ? 'inline-block':'none');
      }
      if (driver && drivers[driver]) {
        // ì§ˆë¬¸ ìŠ¤í‚µí•˜ê³  ê²°ê³¼ ì¦‰ì‹œ ë Œë”
        document.getElementById('startScreen').style.display='none';
        showResultForKey(driver);
      }
    }

    // ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', ()=>{
      updateProgressBar();
      initFromQuery();
    });
  </script>

  <!-- (ì˜µì…˜) Kakao SDK: ë„ë©”ì¸ ë“±ë¡ + ìë°”ìŠ¤í¬ë¦½íŠ¸ í‚¤ í•„ìš” -->
  <!-- ì¤€ë¹„ê°€ ë˜ë©´ ì•„ë˜ ì£¼ì„ í•´ì œí•˜ê³  YOUR_KAKAO_JAVASCRIPT_KEYë¥¼ êµì²´í•˜ì„¸ìš”.
  <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.6.0/kakao.min.js" crossorigin="anonymous"></script>
  <script> Kakao.init('YOUR_KAKAO_JAVASCRIPT_KEY'); </script>
  -->
</body>
</html>
